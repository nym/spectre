        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>GraphicsDevice class / spectre Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="spectre" data-type="GraphicsDevice">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../spectre.html">spectre</a> &rsaquo; <a href="../spectre/GraphicsDevice.html">GraphicsDevice</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
<h2><div class="icon-library"></div><a href="../handle_system.html">handle_system</a></h2><h2><div class="icon-library"></div><a href="../profiler.html">profiler</a></h2><h2><div class="icon-library"></div><a href="../spectre.html">spectre</a></h2><ul class="icon">
<li><a href="../spectre/ArrayMesh.html"><div class="icon-class"></div>ArrayMesh</a></li>
<li><a href="../spectre/BlendState.html"><div class="icon-class"></div>BlendState</a></li>
<li><a href="../spectre/Camera.html"><div class="icon-class"></div>Camera</a></li>
<li><a href="../spectre/CameraController.html"><div class="icon-class"></div>CameraController</a></li>
<li><a href="../spectre/CommandListBuilder.html"><div class="icon-class"></div>CommandListBuilder</a></li>
<li><a href="../spectre/DebugDrawManager.html"><div class="icon-class"></div>DebugDrawManager</a></li>
<li><a href="../spectre/DepthState.html"><div class="icon-class"></div>DepthState</a></li>
<li><a href="../spectre/DeviceChild.html"><div class="icon-class"></div>DeviceChild</a></li>
<li><a href="../spectre/DeviceFormat.html"><div class="icon-class"></div>DeviceFormat</a></li>
<li><a href="../spectre/Float32ArrayResource.html"><div class="icon-class"></div>Float32ArrayResource</a></li>
<li><a href="../spectre/FragmentShader.html"><div class="icon-class"></div>FragmentShader</a></li>
<li><a href="../spectre/GraphicsContext.html"><div class="icon-class"></div>GraphicsContext</a></li>
<li><div class="icon-class"></div><strong>GraphicsDevice</strong></li>
<li><a href="../spectre/HtmlLogger.html"><div class="icon-class"></div>HtmlLogger</a></li>
<li><a href="../spectre/ImageResource.html"><div class="icon-class"></div>ImageResource</a></li>
<li><a href="../spectre/IndexBuffer.html"><div class="icon-class"></div>IndexBuffer</a></li>
<li><a href="../spectre/IndexedMesh.html"><div class="icon-class"></div>IndexedMesh</a></li>
<li><a href="../spectre/InputElementDescription.html"><div class="icon-class"></div>InputElementDescription</a></li>
<li><a href="../spectre/InputLayout.html"><div class="icon-class"></div>InputLayout</a></li>
<li><a href="../spectre/InputLayoutDescription.html"><div class="icon-class"></div>InputLayoutDescription</a></li>
<li><a href="../spectre/InputLayoutHelper.html"><div class="icon-class"></div>InputLayoutHelper</a></li>
<li><a href="../spectre/Interpreter.html"><div class="icon-class"></div>Interpreter</a></li>
<li><a href="../spectre/Logger.html"><div class="icon-interface"></div>Logger</a></li>
<li><a href="../spectre/MeshResource.html"><div class="icon-class"></div>MeshResource</a></li>
<li><a href="../spectre/MouseKeyboardCameraController.html"><div class="icon-class"></div>MouseKeyboardCameraController</a></li>
<li><a href="../spectre/NullLogger.html"><div class="icon-class"></div>NullLogger</a></li>
<li><a href="../spectre/Ops.html"><div class="icon-class"></div>Ops</a></li>
<li><a href="../spectre/PackResource.html"><div class="icon-class"></div>PackResource</a></li>
<li><a href="../spectre/PrintLogger.html"><div class="icon-class"></div>PrintLogger</a></li>
<li><a href="../spectre/ProgramResource.html"><div class="icon-class"></div>ProgramResource</a></li>
<li><a href="../spectre/RasterizerState.html"><div class="icon-class"></div>RasterizerState</a></li>
<li><a href="../spectre/RenderBuffer.html"><div class="icon-class"></div>RenderBuffer</a></li>
<li><a href="../spectre/RenderConfigResource.html"><div class="icon-class"></div>RenderConfigResource</a></li>
<li><a href="../spectre/RenderTarget.html"><div class="icon-class"></div>RenderTarget</a></li>
<li><a href="../spectre/ResourceBase.html"><div class="icon-class"></div>ResourceBase</a></li>
<li><a href="../spectre/ResourceEventCallback.html"><div class="icon-interface"></div>ResourceEventCallback</a></li>
<li><a href="../spectre/ResourceEvents.html"><div class="icon-class"></div>ResourceEvents</a></li>
<li><a href="../spectre/ResourceLoaders.html"><div class="icon-class"></div>ResourceLoaders</a></li>
<li><a href="../spectre/ResourceManager.html"><div class="icon-class"></div>ResourceManager</a></li>
<li><a href="../spectre/SamplerState.html"><div class="icon-class"></div>SamplerState</a></li>
<li><a href="../spectre/SceneResource.html"><div class="icon-class"></div>SceneResource</a></li>
<li><a href="../spectre/Shader.html"><div class="icon-class"></div>Shader</a></li>
<li><a href="../spectre/ShaderProgram.html"><div class="icon-class"></div>ShaderProgram</a></li>
<li><a href="../spectre/ShaderProgramResource.html"><div class="icon-class"></div>ShaderProgramResource</a></li>
<li><a href="../spectre/ShaderResource.html"><div class="icon-class"></div>ShaderResource</a></li>
<li><a href="../spectre/SpectreBuffer.html"><div class="icon-class"></div>SpectreBuffer</a></li>
<li><a href="../spectre/StencilState.html"><div class="icon-class"></div>StencilState</a></li>
<li><a href="../spectre/Texture.html"><div class="icon-class"></div>Texture</a></li>
<li><a href="../spectre/Texture2D.html"><div class="icon-class"></div>Texture2D</a></li>
<li><a href="../spectre/Uint16ArrayResource.html"><div class="icon-class"></div>Uint16ArrayResource</a></li>
<li><a href="../spectre/UniformCallback.html"><div class="icon-interface"></div>UniformCallback</a></li>
<li><a href="../spectre/VertexBuffer.html"><div class="icon-class"></div>VertexBuffer</a></li>
<li><a href="../spectre/VertexShader.html"><div class="icon-class"></div>VertexShader</a></li>
<li><a href="../spectre/Viewport.html"><div class="icon-class"></div>Viewport</a></li>
</ul>
<h2><div class="icon-library"></div><a href="../vector_math_browser.html">vector_math_browser</a></h2></div>
<div class="content">
        <h2><strong>GraphicsDevice</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<p>Spectre GPU DeviceAll GPU resources are created and destroyed through a Device.Each resource requires a unique name.An existing resource can be looked up using its name.</p>
<pre class="source">
class GraphicsDevice {
 static const DeviceFormat DeviceFormatFloat1 =
                   const DeviceFormat(WebGLRenderingContext.FLOAT, 1, false);
 static const DeviceFormat DeviceFormatFloat2 =
                   const DeviceFormat(WebGLRenderingContext.FLOAT, 2, false);
 static const DeviceFormat DeviceFormatFloat3 =
                   const DeviceFormat(WebGLRenderingContext.FLOAT, 3, false);
 static const DeviceFormat DeviceFormatFloat4 =
                   const DeviceFormat(WebGLRenderingContext.FLOAT, 4, false);

 static const int BufferHandleType = 1;
 static const int RenderBufferHandleType = 2;
 static const int RenderTargetHandleType = 3;
 static const int TextureHandleType = 4;
 static const int SamplerStateHandleType = 5;
 static const int ShaderHandleType = 6;
 static const int ShaderProgramHandleType = 7;
 static const int ViewportHandleType = 8;
 static const int DepthStateHandleType = 9;
 static const int BlendStateHandleType = 10;
 static const int RasterizerStateHandleType = 11;
 static const int InputLayoutHandleType = 12;
 static const int MeshHandleType = 13;

 Map _getPropertyMap(Dynamic props) {
   if (props is String) {
     props = JSON.parse(props);
   }
   if ((props is Map) == false) {
     return null;
   }
   return props;
 }

 String getHandleType(int handle) {
   int type = Handle.getType(handle);
   switch (type) {
     case BufferHandleType:
       return 'Buffer';
     case RenderBufferHandleType:
       return 'RenderBuffer';
     case RenderTargetHandleType:
       return 'RenderTarget';
     case TextureHandleType:
       return 'Texture';
     case SamplerStateHandleType:
       return 'SamplerState';
     case ShaderHandleType:
       return 'Shader';
     case ShaderProgramHandleType:
       return 'ShaderProgram';
     case ViewportHandleType:
       return 'Viewport';
     case DepthStateHandleType:
       return 'DepthState';
     case BlendStateHandleType:
       return 'BlendState';
     case RasterizerStateHandleType:
       return 'RasterizerState';
     case InputLayoutHandleType:
       return 'Input Layout';
     default:
       return 'Unknown handle type';
   }
 }

 GraphicsContext _context;
 GraphicsContext get context() =&gt; _context;

 WebGLRenderingContext _gl;
 WebGLRenderingContext get gl() =&gt; _gl;

 // There is a 1:1 mapping between _childrenHandles and _childrenObjects
 HandleSystem _childrenHandles;
 List&lt;DeviceChild&gt; _childrenObjects;

 // Maps from child object name to handle
 Map&lt;String, int&gt; _nameMapping;

 static const int MaxDeviceChildren = 2048;

 int _fallbackTextureID;

 void _drawSquare(CanvasRenderingContext2D context2d, int x, int y, int w, int h) {
   context2d.save();
   context2d.beginPath();
   context2d.translate(x, y);
   context2d.fillStyle = "#656565";
   context2d.fillRect(0, 0, w, h);
   context2d.restore();
 }

 void _drawGrid(CanvasRenderingContext2D context2d, int width, int height, int horizSlices, int vertSlices) {
   int sliceWidth = width ~/ horizSlices;
   int sliceHeight = height ~/ vertSlices;
   int sliceHalfWidth = sliceWidth ~/ 2;
   for (int i = 0; i &lt; horizSlices; i++) {
     for (int j = 0; j &lt; vertSlices; j++) {
       if (j % 2 == 0) {
         _drawSquare(context2d, i * sliceWidth, j * sliceHeight, sliceHalfWidth, sliceHeight);
       } else {
         _drawSquare(context2d, i * sliceWidth + sliceHalfWidth, j * sliceHeight, sliceHalfWidth, sliceHeight);
       }
     }
   }
 }

 /// Constructs a GPU device
 GraphicsDevice(WebGLRenderingContext gl) {
   _gl = gl;
   _childrenHandles = new HandleSystem(MaxDeviceChildren, 0);
   _childrenObjects = new List(MaxDeviceChildren);
   _nameMapping = new Map&lt;String, int&gt;();
   _context = new GraphicsContext(this);
   _fallbackTextureID = createTexture2D('Device.Fallback', {
     'width': 512,
     'height': 512,
     'textureFormat' : Texture.TextureFormatRGBA,
     'pixelFormat': Texture.PixelFormatUnsignedByte});
   {
     CanvasElement canvas = new CanvasElement();
     canvas.width = 512;
     canvas.height = 512;
     CanvasRenderingContext2D context2d = canvas.getContext('2d');
     _drawGrid(context2d, 512, 512, 8, 8);
     configureDeviceChild(_fallbackTextureID, {'pixels': canvas});
     _context.generateMipmap(_fallbackTextureID);
   }
 }

 /// Returns the handle to the device child named [name]
 int getDeviceChildHandle(String name) {
   int h = _nameMapping[name];
   if (h == null) {
     return Handle.BadHandle;
   }
   return h;
 }

 Map&lt;String, int&gt; get children() =&gt; _nameMapping;

 /// Lookup the actual device child object given the [handle]
 Dynamic getDeviceChild(int handle, [bool noFallback=false]) {
   if (handle == 0) {
     return null;
   }
   if (_childrenHandles.validHandle(handle) == false) {
     spectreLog.Warning('$handle is not a valid handle');
     return null;
   }
   int index = Handle.getIndex(handle);
   DeviceChild dc = _childrenObjects[index];
   if (dc == null) {
     spectreLog.Warning('$handle is not a valid handle [2]');
     return null;
   }
   if (noFallback == false &amp;&amp; dc.ready == false &amp;&amp; dc.fallback != 0) {
     // Recurse
     //print('Fetching fallback: ${_childrenObjects[index].fallback}');
     return getDeviceChild(_childrenObjects[index].fallback);
   }
   return dc;
 }

 String getDeviceChildName(int handle) {
   Dynamic dc = getDeviceChild(handle);
   if (dc != null) {
     return dc.name;
   }
   return 'Unknown handle: $handle';
 }

 void _setChildObject(int handle, DeviceChild o) {
   int index = Handle.getIndex(handle);
   _childrenObjects[index] = o;
 }

 /// Registers a handle with the given [type] and [name]
 /// [handle] is an optional argument that, if provided, must be a statically reserved handle
 int _registerHandle(String name, int type) {
   {
     // Check if name is already registered
     int existingHandle = getDeviceChildHandle(name);
     if (existingHandle != Handle.BadHandle) {
       int handleType = Handle.getType(existingHandle);
       if (handleType != type) {
         spectreLog.Error('Returning existing handle for $name but types do not match. Requested type = $type found type = $handleType');
       }
       return existingHandle;
     }
   }
   int handle = _childrenHandles.allocateHandle(type);
   if (handle == Handle.BadHandle) {
     spectreLog.Error('Spectre.Device._registerHandle - Registering dynamic handle failed.');
     return Handle.BadHandle;
   }

   assert(_childrenHandles.validHandle(handle));
   int index = Handle.getIndex(handle);
   //print('$index - $name');
   // Nothing is at this index
   assert(_childrenObjects[index] == null);

   // Register name
   _nameMapping[name] = handle;

   return handle;
 }

 /// Deletes the device child [handle]
 void deleteDeviceChild(int handle) {
   if (handle == 0) {
     return;
   }
   if (_childrenHandles.validHandle(handle) == false) {
     spectreLog.Warning('Deleting device child handle [$handle] is invalid.');
     return;
   }
   // Free handle
   _childrenHandles.freeHandle(handle);
   int index = Handle.getIndex(handle);
   DeviceChild dc = _childrenObjects[index];
   if (dc == null) {
     spectreLog.Error('deleteDeviceChild unable to find device child for [$handle]');
     return;
   }
   dc._destroyDeviceState();
   _nameMapping.remove(dc.name);
   _childrenObjects[index] = null;
 }

 void batchDeleteDeviceChildren(List&lt;int&gt; handles) {
   for (int h in handles) {
     deleteDeviceChild(h);
   }
 }

 void configureDeviceChild(int handle, Dynamic props) {
   Dynamic deviceChild = getDeviceChild(handle);
   if (deviceChild == null) {
     return;
   }
   props = _getPropertyMap(props);
   deviceChild._configDeviceState(props);
 }

 /// Create a IndexBuffer named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the IndexBuffer being created. If [handle] is specified it must be a registered handle.
 ///
 /// Returns the handle to the IndexBuffer.
 int createIndexBuffer(String name, Dynamic props) {
   int handle = _registerHandle(name, BufferHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   IndexBuffer ib = new IndexBuffer(name, this);
   _setChildObject(handle, ib);
   ib._createDeviceState();
   ib._configDeviceState(props);
   return handle;
 }

 /// Create a [VertexBuffer] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [VertexBuffer] being created
 int createVertexBuffer(String name, Dynamic props) {
   int handle = _registerHandle(name, BufferHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   VertexBuffer vb = new VertexBuffer(name, this);
   _setChildObject(handle, vb);
   vb._createDeviceState();
   vb._configDeviceState(props);
   return handle;
 }

 /// Create a [RenderBuffer] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [RenderBuffer] being created
 int createRenderBuffer(String name, Dynamic props) {
   int handle = _registerHandle(name, RenderBufferHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   RenderBuffer rb = new RenderBuffer(name, this);
   _setChildObject(handle, rb);
   rb._createDeviceState();
   rb._configDeviceState(props);
   return handle;
 }

 /// Create a [RenderTarget] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [RenderTarget] being created
 int createRenderTarget(String name, Dynamic props) {
   int handle = _registerHandle(name, RenderTargetHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   RenderTarget rt = new RenderTarget(name, this);
   _setChildObject(handle, rt);
   rt._createDeviceState();
   rt._configDeviceState(props);
   return handle;
 }

 /// Create a [Texture2D] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [Texture2D] being created
 int createTexture2D(String name, Dynamic props) {
   int handle = _registerHandle(name, TextureHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   Texture2D tex = new Texture2D(name, this);
   _setChildObject(handle, tex);
   tex._createDeviceState();
   tex._configDeviceState(props);
   if (_fallbackTextureID != null) {
     // After the fallback texture is ready we mark all textures unready.
     tex.ready = false;
     tex.fallback = _fallbackTextureID;
   }
   return handle;
 }

 /// Create a [VertexShader] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [VertexShader] being created
 int createVertexShader(String name, Dynamic props) {
   int handle = _registerHandle(name, ShaderHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   VertexShader vertexShader = new VertexShader(name, this);
   _setChildObject(handle, vertexShader);
   vertexShader._createDeviceState();
   vertexShader._configDeviceState(props);
   return handle;
 }

 /// Create a [FragmentShader] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [FragmentShader] being created
 int createFragmentShader(String name, Dynamic props) {
   int handle = _registerHandle(name, ShaderHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   FragmentShader fragmentShader = new FragmentShader(name, this);
   _setChildObject(handle, fragmentShader);
   fragmentShader._createDeviceState();
   fragmentShader._configDeviceState(props);
   return handle;
 }

 /// Create a [ShaderProgram] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [ShaderProgram] being created
 int createShaderProgram(String name, Dynamic props) {
   int handle = _registerHandle(name, ShaderProgramHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   ShaderProgram shaderProgram = new ShaderProgram(name, this);
   _setChildObject(handle, shaderProgram);
   shaderProgram._createDeviceState();
   shaderProgram._configDeviceState(props);

   return handle;
 }

 /// Create a [SamplerState] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [SamplerState] being created
 int createSamplerState(String name, Dynamic props) {
   int handle = _registerHandle(name, SamplerStateHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   SamplerState sampler = new SamplerState(name, this);
   _setChildObject(handle, sampler);
   sampler._createDeviceState();
   sampler._configDeviceState(props);
   return handle;
 }

 /// Create a [Viewport] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [Viewport] being created
 int createViewport(String name, Dynamic props) {
   int handle = _registerHandle(name, ViewportHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   Viewport viewport = new Viewport(name, this);
   _setChildObject(handle, viewport);
   viewport._createDeviceState();
   viewport._configDeviceState(props);
   return handle;
 }

 /// Create a [DepthState] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [DepthState] being created
 int createDepthState(String name, Dynamic props) {
   int handle = _registerHandle(name, DepthStateHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   DepthState depthState = new DepthState(name, this);
   _setChildObject(handle, depthState);
   depthState._createDeviceState();
   depthState._configDeviceState(props);
   return handle;
 }

 /// Create a [BlendState] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [BlendState] being created
 int createBlendState(String name, Object props) {
   int handle = _registerHandle(name, BlendStateHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);

   BlendState blendState = new BlendState(name, this);
   _setChildObject(handle, blendState);
   blendState._createDeviceState();
   blendState._configDeviceState(props);
   return handle;
 }

 /// Create a [RasterizerState] named [name]
 ///
 /// [props] is a JSON String or a [Map] containing a set of properties
 /// describing the [RasterizerState] being created
 int createRasterizerState(String name, Object props) {
   int handle = _registerHandle(name, RasterizerStateHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);

   RasterizerState rasterizerState = new RasterizerState(name, this);
   _setChildObject(handle, rasterizerState);
   rasterizerState._createDeviceState();
   rasterizerState._configDeviceState(props);
   return handle;
 }

 /// Create an [InputLayout] named [name]
 ///
 /// [props] is a JSONS tring or a [Map] containing a set of properties
 /// describing the [InputLayout] being created.
 int createInputLayout(String name, Object props) {
   int handle = _registerHandle(name, InputLayoutHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }

   props = _getPropertyMap(props);
   InputLayout il = new InputLayout(name, this);
   _setChildObject(handle, il);
   il._createDeviceState();
   il._configDeviceState(props);
   return handle;
 }

 /// Create an [IndexedMesh] named [name]
 /// [props] is a JSON String or a [Map] containing a set of properties
 int createIndexedMesh(String name, Dynamic props) {
   int handle = _registerHandle(name, MeshHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);

   IndexedMesh indexedMesh = new IndexedMesh(name, this);
   _setChildObject(handle, indexedMesh);
   indexedMesh._createDeviceState();
   indexedMesh._configDeviceState(props);
   return handle;
 }

 /// Create an [ArrayMesh] name [name]
 /// [props] is a JSON String or a [Map] containing a set of properties
 int createArrayMesh(String name, Dynamic props) {
   int handle = _registerHandle(name, MeshHandleType);
   if (handle == Handle.BadHandle) {
     return handle;
   }
   props = _getPropertyMap(props);
   ArrayMesh arrayMesh = new ArrayMesh(name, this);
   _setChildObject(handle, arrayMesh);
   arrayMesh._createDeviceState();
   arrayMesh._configDeviceState(props);
   return handle;
 }
}
</pre>
</div>
<div>
<h3>Static Properties</h3>
<div class="field"><h4 id="BlendStateHandleType">
<button class="show-code">Code</button>
const int         <strong>BlendStateHandleType</strong> <a class="anchor-link"
            href="#BlendStateHandleType"
            title="Permalink to GraphicsDevice.BlendStateHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int BlendStateHandleType = 10;
</pre>
</div>
</div>
<div class="field"><h4 id="BufferHandleType">
<button class="show-code">Code</button>
const int         <strong>BufferHandleType</strong> <a class="anchor-link"
            href="#BufferHandleType"
            title="Permalink to GraphicsDevice.BufferHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int BufferHandleType = 1;
</pre>
</div>
</div>
<div class="field"><h4 id="DepthStateHandleType">
<button class="show-code">Code</button>
const int         <strong>DepthStateHandleType</strong> <a class="anchor-link"
            href="#DepthStateHandleType"
            title="Permalink to GraphicsDevice.DepthStateHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int DepthStateHandleType = 9;
</pre>
</div>
</div>
<div class="field"><h4 id="DeviceFormatFloat1">
<button class="show-code">Code</button>
const <a href="../spectre/DeviceFormat.html">DeviceFormat</a>         <strong>DeviceFormatFloat1</strong> <a class="anchor-link"
            href="#DeviceFormatFloat1"
            title="Permalink to GraphicsDevice.DeviceFormatFloat1">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const DeviceFormat DeviceFormatFloat1 =
                 const DeviceFormat(WebGLRenderingContext.FLOAT, 1, false);
</pre>
</div>
</div>
<div class="field"><h4 id="DeviceFormatFloat2">
<button class="show-code">Code</button>
const <a href="../spectre/DeviceFormat.html">DeviceFormat</a>         <strong>DeviceFormatFloat2</strong> <a class="anchor-link"
            href="#DeviceFormatFloat2"
            title="Permalink to GraphicsDevice.DeviceFormatFloat2">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const DeviceFormat DeviceFormatFloat2 =
                 const DeviceFormat(WebGLRenderingContext.FLOAT, 2, false);
</pre>
</div>
</div>
<div class="field"><h4 id="DeviceFormatFloat3">
<button class="show-code">Code</button>
const <a href="../spectre/DeviceFormat.html">DeviceFormat</a>         <strong>DeviceFormatFloat3</strong> <a class="anchor-link"
            href="#DeviceFormatFloat3"
            title="Permalink to GraphicsDevice.DeviceFormatFloat3">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const DeviceFormat DeviceFormatFloat3 =
                 const DeviceFormat(WebGLRenderingContext.FLOAT, 3, false);
</pre>
</div>
</div>
<div class="field"><h4 id="DeviceFormatFloat4">
<button class="show-code">Code</button>
const <a href="../spectre/DeviceFormat.html">DeviceFormat</a>         <strong>DeviceFormatFloat4</strong> <a class="anchor-link"
            href="#DeviceFormatFloat4"
            title="Permalink to GraphicsDevice.DeviceFormatFloat4">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const DeviceFormat DeviceFormatFloat4 =
                 const DeviceFormat(WebGLRenderingContext.FLOAT, 4, false);
</pre>
</div>
</div>
<div class="field"><h4 id="InputLayoutHandleType">
<button class="show-code">Code</button>
const int         <strong>InputLayoutHandleType</strong> <a class="anchor-link"
            href="#InputLayoutHandleType"
            title="Permalink to GraphicsDevice.InputLayoutHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int InputLayoutHandleType = 12;
</pre>
</div>
</div>
<div class="field"><h4 id="MaxDeviceChildren">
<button class="show-code">Code</button>
const int         <strong>MaxDeviceChildren</strong> <a class="anchor-link"
            href="#MaxDeviceChildren"
            title="Permalink to GraphicsDevice.MaxDeviceChildren">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int MaxDeviceChildren = 2048;
</pre>
</div>
</div>
<div class="field"><h4 id="MeshHandleType">
<button class="show-code">Code</button>
const int         <strong>MeshHandleType</strong> <a class="anchor-link"
            href="#MeshHandleType"
            title="Permalink to GraphicsDevice.MeshHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int MeshHandleType = 13;
</pre>
</div>
</div>
<div class="field"><h4 id="RasterizerStateHandleType">
<button class="show-code">Code</button>
const int         <strong>RasterizerStateHandleType</strong> <a class="anchor-link"
            href="#RasterizerStateHandleType"
            title="Permalink to GraphicsDevice.RasterizerStateHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int RasterizerStateHandleType = 11;
</pre>
</div>
</div>
<div class="field"><h4 id="RenderBufferHandleType">
<button class="show-code">Code</button>
const int         <strong>RenderBufferHandleType</strong> <a class="anchor-link"
            href="#RenderBufferHandleType"
            title="Permalink to GraphicsDevice.RenderBufferHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int RenderBufferHandleType = 2;
</pre>
</div>
</div>
<div class="field"><h4 id="RenderTargetHandleType">
<button class="show-code">Code</button>
const int         <strong>RenderTargetHandleType</strong> <a class="anchor-link"
            href="#RenderTargetHandleType"
            title="Permalink to GraphicsDevice.RenderTargetHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int RenderTargetHandleType = 3;
</pre>
</div>
</div>
<div class="field"><h4 id="SamplerStateHandleType">
<button class="show-code">Code</button>
const int         <strong>SamplerStateHandleType</strong> <a class="anchor-link"
            href="#SamplerStateHandleType"
            title="Permalink to GraphicsDevice.SamplerStateHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int SamplerStateHandleType = 5;
</pre>
</div>
</div>
<div class="field"><h4 id="ShaderHandleType">
<button class="show-code">Code</button>
const int         <strong>ShaderHandleType</strong> <a class="anchor-link"
            href="#ShaderHandleType"
            title="Permalink to GraphicsDevice.ShaderHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int ShaderHandleType = 6;
</pre>
</div>
</div>
<div class="field"><h4 id="ShaderProgramHandleType">
<button class="show-code">Code</button>
const int         <strong>ShaderProgramHandleType</strong> <a class="anchor-link"
            href="#ShaderProgramHandleType"
            title="Permalink to GraphicsDevice.ShaderProgramHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int ShaderProgramHandleType = 7;
</pre>
</div>
</div>
<div class="field"><h4 id="TextureHandleType">
<button class="show-code">Code</button>
const int         <strong>TextureHandleType</strong> <a class="anchor-link"
            href="#TextureHandleType"
            title="Permalink to GraphicsDevice.TextureHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int TextureHandleType = 4;
</pre>
</div>
</div>
<div class="field"><h4 id="ViewportHandleType">
<button class="show-code">Code</button>
const int         <strong>ViewportHandleType</strong> <a class="anchor-link"
            href="#ViewportHandleType"
            title="Permalink to GraphicsDevice.ViewportHandleType">#</a>
        </h4>
        <div class="doc">
<pre class="source">
static const int ViewportHandleType = 8;
</pre>
</div>
</div>
</div>
<div>
<h3>Constructors</h3>
<div class="method"><h4 id="GraphicsDevice">
<button class="show-code">Code</button>
new <strong>GraphicsDevice</strong>(WebGLRenderingContext gl) <a class="anchor-link" href="#GraphicsDevice"
              title="Permalink to GraphicsDevice.GraphicsDevice">#</a></h4>
<div class="doc">
<p>Constructs a GPU device</p>
<pre class="source">
GraphicsDevice(WebGLRenderingContext gl) {
 _gl = gl;
 _childrenHandles = new HandleSystem(MaxDeviceChildren, 0);
 _childrenObjects = new List(MaxDeviceChildren);
 _nameMapping = new Map&lt;String, int&gt;();
 _context = new GraphicsContext(this);
 _fallbackTextureID = createTexture2D('Device.Fallback', {
   'width': 512,
   'height': 512,
   'textureFormat' : Texture.TextureFormatRGBA,
   'pixelFormat': Texture.PixelFormatUnsignedByte});
 {
   CanvasElement canvas = new CanvasElement();
   canvas.width = 512;
   canvas.height = 512;
   CanvasRenderingContext2D context2d = canvas.getContext('2d');
   _drawGrid(context2d, 512, 512, 8, 8);
   configureDeviceChild(_fallbackTextureID, {'pixels': canvas});
   _context.generateMipmap(_fallbackTextureID);
 }
}
</pre>
</div>
</div>
</div>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="children">
<button class="show-code">Code</button>
final Map&lt;String, int&gt;         <strong>children</strong> <a class="anchor-link"
            href="#children"
            title="Permalink to GraphicsDevice.children">#</a>
        </h4>
        <div class="doc">
<pre class="source">
Map&lt;String, int&gt; get children() =&gt; _nameMapping;
</pre>
</div>
</div>
<div class="field"><h4 id="context">
<button class="show-code">Code</button>
final <a href="../spectre/GraphicsContext.html">GraphicsContext</a>         <strong>context</strong> <a class="anchor-link"
            href="#context"
            title="Permalink to GraphicsDevice.context">#</a>
        </h4>
        <div class="doc">
<pre class="source">
GraphicsContext get context() =&gt; _context;
</pre>
</div>
</div>
<div class="field"><h4 id="gl">
<button class="show-code">Code</button>
final WebGLRenderingContext         <strong>gl</strong> <a class="anchor-link"
            href="#gl"
            title="Permalink to GraphicsDevice.gl">#</a>
        </h4>
        <div class="doc">
<pre class="source">
WebGLRenderingContext get gl() =&gt; _gl;
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="batchDeleteDeviceChildren">
<button class="show-code">Code</button>
void <strong>batchDeleteDeviceChildren</strong>(List&lt;int&gt; handles) <a class="anchor-link" href="#batchDeleteDeviceChildren"
              title="Permalink to GraphicsDevice.batchDeleteDeviceChildren">#</a></h4>
<div class="doc">
<pre class="source">
void batchDeleteDeviceChildren(List&lt;int&gt; handles) {
 for (int h in handles) {
   deleteDeviceChild(h);
 }
}
</pre>
</div>
</div>
<div class="method"><h4 id="configureDeviceChild">
<button class="show-code">Code</button>
void <strong>configureDeviceChild</strong>(int handle, props) <a class="anchor-link" href="#configureDeviceChild"
              title="Permalink to GraphicsDevice.configureDeviceChild">#</a></h4>
<div class="doc">
<pre class="source">
void configureDeviceChild(int handle, Dynamic props) {
 Dynamic deviceChild = getDeviceChild(handle);
 if (deviceChild == null) {
   return;
 }
 props = _getPropertyMap(props);
 deviceChild._configDeviceState(props);
}
</pre>
</div>
</div>
<div class="method"><h4 id="createArrayMesh">
<button class="show-code">Code</button>
int <strong>createArrayMesh</strong>(String name, props) <a class="anchor-link" href="#createArrayMesh"
              title="Permalink to GraphicsDevice.createArrayMesh">#</a></h4>
<div class="doc">
<p>Create an <a class="crossref" href="../spectre/ArrayMesh.html">ArrayMesh</a> name [name][props] is a JSON String or a <code>Map</code> containing a set of properties</p>
<pre class="source">
int createArrayMesh(String name, Dynamic props) {
 int handle = _registerHandle(name, MeshHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 ArrayMesh arrayMesh = new ArrayMesh(name, this);
 _setChildObject(handle, arrayMesh);
 arrayMesh._createDeviceState();
 arrayMesh._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createBlendState">
<button class="show-code">Code</button>
int <strong>createBlendState</strong>(String name, Object props) <a class="anchor-link" href="#createBlendState"
              title="Permalink to GraphicsDevice.createBlendState">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/BlendState.html">BlendState</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/BlendState.html">BlendState</a> being created</p>
<pre class="source">
int createBlendState(String name, Object props) {
 int handle = _registerHandle(name, BlendStateHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);

 BlendState blendState = new BlendState(name, this);
 _setChildObject(handle, blendState);
 blendState._createDeviceState();
 blendState._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createDepthState">
<button class="show-code">Code</button>
int <strong>createDepthState</strong>(String name, props) <a class="anchor-link" href="#createDepthState"
              title="Permalink to GraphicsDevice.createDepthState">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/DepthState.html">DepthState</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/DepthState.html">DepthState</a> being created</p>
<pre class="source">
int createDepthState(String name, Dynamic props) {
 int handle = _registerHandle(name, DepthStateHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 DepthState depthState = new DepthState(name, this);
 _setChildObject(handle, depthState);
 depthState._createDeviceState();
 depthState._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createFragmentShader">
<button class="show-code">Code</button>
int <strong>createFragmentShader</strong>(String name, props) <a class="anchor-link" href="#createFragmentShader"
              title="Permalink to GraphicsDevice.createFragmentShader">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/FragmentShader.html">FragmentShader</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/FragmentShader.html">FragmentShader</a> being created</p>
<pre class="source">
int createFragmentShader(String name, Dynamic props) {
 int handle = _registerHandle(name, ShaderHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 FragmentShader fragmentShader = new FragmentShader(name, this);
 _setChildObject(handle, fragmentShader);
 fragmentShader._createDeviceState();
 fragmentShader._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createIndexBuffer">
<button class="show-code">Code</button>
int <strong>createIndexBuffer</strong>(String name, props) <a class="anchor-link" href="#createIndexBuffer"
              title="Permalink to GraphicsDevice.createIndexBuffer">#</a></h4>
<div class="doc">
<p>Create a IndexBuffer named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the IndexBuffer being created. If <code>handle</code> is specified it must be a registered handle.Returns the handle to the IndexBuffer.</p>
<pre class="source">
int createIndexBuffer(String name, Dynamic props) {
 int handle = _registerHandle(name, BufferHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 IndexBuffer ib = new IndexBuffer(name, this);
 _setChildObject(handle, ib);
 ib._createDeviceState();
 ib._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createIndexedMesh">
<button class="show-code">Code</button>
int <strong>createIndexedMesh</strong>(String name, props) <a class="anchor-link" href="#createIndexedMesh"
              title="Permalink to GraphicsDevice.createIndexedMesh">#</a></h4>
<div class="doc">
<p>Create an <a class="crossref" href="../spectre/IndexedMesh.html">IndexedMesh</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of properties</p>
<pre class="source">
int createIndexedMesh(String name, Dynamic props) {
 int handle = _registerHandle(name, MeshHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);

 IndexedMesh indexedMesh = new IndexedMesh(name, this);
 _setChildObject(handle, indexedMesh);
 indexedMesh._createDeviceState();
 indexedMesh._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createInputLayout">
<button class="show-code">Code</button>
int <strong>createInputLayout</strong>(String name, Object props) <a class="anchor-link" href="#createInputLayout"
              title="Permalink to GraphicsDevice.createInputLayout">#</a></h4>
<div class="doc">
<p>Create an <a class="crossref" href="../spectre/InputLayout.html">InputLayout</a> named [name][props] is a JSONS tring or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/InputLayout.html">InputLayout</a> being created.</p>
<pre class="source">
int createInputLayout(String name, Object props) {
 int handle = _registerHandle(name, InputLayoutHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }

 props = _getPropertyMap(props);
 InputLayout il = new InputLayout(name, this);
 _setChildObject(handle, il);
 il._createDeviceState();
 il._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createRasterizerState">
<button class="show-code">Code</button>
int <strong>createRasterizerState</strong>(String name, Object props) <a class="anchor-link" href="#createRasterizerState"
              title="Permalink to GraphicsDevice.createRasterizerState">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/RasterizerState.html">RasterizerState</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/RasterizerState.html">RasterizerState</a> being created</p>
<pre class="source">
int createRasterizerState(String name, Object props) {
 int handle = _registerHandle(name, RasterizerStateHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);

 RasterizerState rasterizerState = new RasterizerState(name, this);
 _setChildObject(handle, rasterizerState);
 rasterizerState._createDeviceState();
 rasterizerState._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createRenderBuffer">
<button class="show-code">Code</button>
int <strong>createRenderBuffer</strong>(String name, props) <a class="anchor-link" href="#createRenderBuffer"
              title="Permalink to GraphicsDevice.createRenderBuffer">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/RenderBuffer.html">RenderBuffer</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/RenderBuffer.html">RenderBuffer</a> being created</p>
<pre class="source">
int createRenderBuffer(String name, Dynamic props) {
 int handle = _registerHandle(name, RenderBufferHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 RenderBuffer rb = new RenderBuffer(name, this);
 _setChildObject(handle, rb);
 rb._createDeviceState();
 rb._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createRenderTarget">
<button class="show-code">Code</button>
int <strong>createRenderTarget</strong>(String name, props) <a class="anchor-link" href="#createRenderTarget"
              title="Permalink to GraphicsDevice.createRenderTarget">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/RenderTarget.html">RenderTarget</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/RenderTarget.html">RenderTarget</a> being created</p>
<pre class="source">
int createRenderTarget(String name, Dynamic props) {
 int handle = _registerHandle(name, RenderTargetHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 RenderTarget rt = new RenderTarget(name, this);
 _setChildObject(handle, rt);
 rt._createDeviceState();
 rt._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createSamplerState">
<button class="show-code">Code</button>
int <strong>createSamplerState</strong>(String name, props) <a class="anchor-link" href="#createSamplerState"
              title="Permalink to GraphicsDevice.createSamplerState">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/SamplerState.html">SamplerState</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/SamplerState.html">SamplerState</a> being created</p>
<pre class="source">
int createSamplerState(String name, Dynamic props) {
 int handle = _registerHandle(name, SamplerStateHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 SamplerState sampler = new SamplerState(name, this);
 _setChildObject(handle, sampler);
 sampler._createDeviceState();
 sampler._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createShaderProgram">
<button class="show-code">Code</button>
int <strong>createShaderProgram</strong>(String name, props) <a class="anchor-link" href="#createShaderProgram"
              title="Permalink to GraphicsDevice.createShaderProgram">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/ShaderProgram.html">ShaderProgram</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/ShaderProgram.html">ShaderProgram</a> being created</p>
<pre class="source">
int createShaderProgram(String name, Dynamic props) {
 int handle = _registerHandle(name, ShaderProgramHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 ShaderProgram shaderProgram = new ShaderProgram(name, this);
 _setChildObject(handle, shaderProgram);
 shaderProgram._createDeviceState();
 shaderProgram._configDeviceState(props);

 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createTexture2D">
<button class="show-code">Code</button>
int <strong>createTexture2D</strong>(String name, props) <a class="anchor-link" href="#createTexture2D"
              title="Permalink to GraphicsDevice.createTexture2D">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/Texture2D.html">Texture2D</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/Texture2D.html">Texture2D</a> being created</p>
<pre class="source">
int createTexture2D(String name, Dynamic props) {
 int handle = _registerHandle(name, TextureHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 Texture2D tex = new Texture2D(name, this);
 _setChildObject(handle, tex);
 tex._createDeviceState();
 tex._configDeviceState(props);
 if (_fallbackTextureID != null) {
   // After the fallback texture is ready we mark all textures unready.
   tex.ready = false;
   tex.fallback = _fallbackTextureID;
 }
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createVertexBuffer">
<button class="show-code">Code</button>
int <strong>createVertexBuffer</strong>(String name, props) <a class="anchor-link" href="#createVertexBuffer"
              title="Permalink to GraphicsDevice.createVertexBuffer">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/VertexBuffer.html">VertexBuffer</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/VertexBuffer.html">VertexBuffer</a> being created</p>
<pre class="source">
int createVertexBuffer(String name, Dynamic props) {
 int handle = _registerHandle(name, BufferHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 VertexBuffer vb = new VertexBuffer(name, this);
 _setChildObject(handle, vb);
 vb._createDeviceState();
 vb._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createVertexShader">
<button class="show-code">Code</button>
int <strong>createVertexShader</strong>(String name, props) <a class="anchor-link" href="#createVertexShader"
              title="Permalink to GraphicsDevice.createVertexShader">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/VertexShader.html">VertexShader</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/VertexShader.html">VertexShader</a> being created</p>
<pre class="source">
int createVertexShader(String name, Dynamic props) {
 int handle = _registerHandle(name, ShaderHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 VertexShader vertexShader = new VertexShader(name, this);
 _setChildObject(handle, vertexShader);
 vertexShader._createDeviceState();
 vertexShader._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="createViewport">
<button class="show-code">Code</button>
int <strong>createViewport</strong>(String name, props) <a class="anchor-link" href="#createViewport"
              title="Permalink to GraphicsDevice.createViewport">#</a></h4>
<div class="doc">
<p>Create a <a class="crossref" href="../spectre/Viewport.html">Viewport</a> named [name][props] is a JSON String or a <code>Map</code> containing a set of propertiesdescribing the <a class="crossref" href="../spectre/Viewport.html">Viewport</a> being created</p>
<pre class="source">
int createViewport(String name, Dynamic props) {
 int handle = _registerHandle(name, ViewportHandleType);
 if (handle == Handle.BadHandle) {
   return handle;
 }
 props = _getPropertyMap(props);
 Viewport viewport = new Viewport(name, this);
 _setChildObject(handle, viewport);
 viewport._createDeviceState();
 viewport._configDeviceState(props);
 return handle;
}
</pre>
</div>
</div>
<div class="method"><h4 id="deleteDeviceChild">
<button class="show-code">Code</button>
void <strong>deleteDeviceChild</strong>(int handle) <a class="anchor-link" href="#deleteDeviceChild"
              title="Permalink to GraphicsDevice.deleteDeviceChild">#</a></h4>
<div class="doc">
<p>Deletes the device child 
<span class="param">handle</span></p>
<pre class="source">
void deleteDeviceChild(int handle) {
 if (handle == 0) {
   return;
 }
 if (_childrenHandles.validHandle(handle) == false) {
   spectreLog.Warning('Deleting device child handle [$handle] is invalid.');
   return;
 }
 // Free handle
 _childrenHandles.freeHandle(handle);
 int index = Handle.getIndex(handle);
 DeviceChild dc = _childrenObjects[index];
 if (dc == null) {
   spectreLog.Error('deleteDeviceChild unable to find device child for [$handle]');
   return;
 }
 dc._destroyDeviceState();
 _nameMapping.remove(dc.name);
 _childrenObjects[index] = null;
}
</pre>
</div>
</div>
<div class="method"><h4 id="getDeviceChild">
<button class="show-code">Code</button>
<strong>getDeviceChild</strong>(int handle, [bool noFallback = false]) <a class="anchor-link" href="#getDeviceChild"
              title="Permalink to GraphicsDevice.getDeviceChild">#</a></h4>
<div class="doc">
<p>Lookup the actual device child object given the 
<span class="param">handle</span></p>
<pre class="source">
Dynamic getDeviceChild(int handle, [bool noFallback=false]) {
 if (handle == 0) {
   return null;
 }
 if (_childrenHandles.validHandle(handle) == false) {
   spectreLog.Warning('$handle is not a valid handle');
   return null;
 }
 int index = Handle.getIndex(handle);
 DeviceChild dc = _childrenObjects[index];
 if (dc == null) {
   spectreLog.Warning('$handle is not a valid handle [2]');
   return null;
 }
 if (noFallback == false &amp;&amp; dc.ready == false &amp;&amp; dc.fallback != 0) {
   // Recurse
   //print('Fetching fallback: ${_childrenObjects[index].fallback}');
   return getDeviceChild(_childrenObjects[index].fallback);
 }
 return dc;
}
</pre>
</div>
</div>
<div class="method"><h4 id="getDeviceChildHandle">
<button class="show-code">Code</button>
int <strong>getDeviceChildHandle</strong>(String name) <a class="anchor-link" href="#getDeviceChildHandle"
              title="Permalink to GraphicsDevice.getDeviceChildHandle">#</a></h4>
<div class="doc">
<p>Returns the handle to the device child named 
<span class="param">name</span></p>
<pre class="source">
int getDeviceChildHandle(String name) {
 int h = _nameMapping[name];
 if (h == null) {
   return Handle.BadHandle;
 }
 return h;
}
</pre>
</div>
</div>
<div class="method"><h4 id="getDeviceChildName">
<button class="show-code">Code</button>
String <strong>getDeviceChildName</strong>(int handle) <a class="anchor-link" href="#getDeviceChildName"
              title="Permalink to GraphicsDevice.getDeviceChildName">#</a></h4>
<div class="doc">
<pre class="source">
String getDeviceChildName(int handle) {
 Dynamic dc = getDeviceChild(handle);
 if (dc != null) {
   return dc.name;
 }
 return 'Unknown handle: $handle';
}
</pre>
</div>
</div>
<div class="method"><h4 id="getHandleType">
<button class="show-code">Code</button>
String <strong>getHandleType</strong>(int handle) <a class="anchor-link" href="#getHandleType"
              title="Permalink to GraphicsDevice.getHandleType">#</a></h4>
<div class="doc">
<pre class="source">
String getHandleType(int handle) {
 int type = Handle.getType(handle);
 switch (type) {
   case BufferHandleType:
     return 'Buffer';
   case RenderBufferHandleType:
     return 'RenderBuffer';
   case RenderTargetHandleType:
     return 'RenderTarget';
   case TextureHandleType:
     return 'Texture';
   case SamplerStateHandleType:
     return 'SamplerState';
   case ShaderHandleType:
     return 'Shader';
   case ShaderProgramHandleType:
     return 'ShaderProgram';
   case ViewportHandleType:
     return 'Viewport';
   case DepthStateHandleType:
     return 'DepthState';
   case BlendStateHandleType:
     return 'BlendState';
   case RasterizerStateHandleType:
     return 'RasterizerState';
   case InputLayoutHandleType:
     return 'Input Layout';
   default:
     return 'Unknown handle type';
 }
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        
        <div class="footer">
          <div>This page was generated at 2012-11-10 15:19:59.963</div>
        </div>
        <script async src="../client-static.js"></script>
        </body></html>
        
